; Listing generated by Microsoft (R) Optimizing Compiler Version 19.27.29112.0 

	TITLE	C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??0CGrannyMotion@@QAE@XZ			; CGrannyMotion::CGrannyMotion
PUBLIC	??1CGrannyMotion@@UAE@XZ			; CGrannyMotion::~CGrannyMotion
PUBLIC	?IsEmpty@CGrannyMotion@@QAE_NXZ			; CGrannyMotion::IsEmpty
PUBLIC	?Destroy@CGrannyMotion@@QAEXXZ			; CGrannyMotion::Destroy
PUBLIC	?BindGrannyAnimation@CGrannyMotion@@QAE_NPAUgranny_animation@@@Z ; CGrannyMotion::BindGrannyAnimation
PUBLIC	?GetGrannyAnimationPointer@CGrannyMotion@@QBEPAUgranny_animation@@XZ ; CGrannyMotion::GetGrannyAnimationPointer
PUBLIC	?GetName@CGrannyMotion@@QBEPBDXZ		; CGrannyMotion::GetName
PUBLIC	?GetDuration@CGrannyMotion@@QBEMXZ		; CGrannyMotion::GetDuration
PUBLIC	?GetTextTrack@CGrannyMotion@@QBEXPBDPAHPAM@Z	; CGrannyMotion::GetTextTrack
PUBLIC	?Initialize@CGrannyMotion@@IAEXXZ		; CGrannyMotion::Initialize
PUBLIC	??_GCGrannyMotion@@UAEPAXI@Z			; CGrannyMotion::`scalar deleting destructor'
PUBLIC	??_7CGrannyMotion@@6B@				; CGrannyMotion::`vftable'
PUBLIC	??_R4CGrannyMotion@@6B@				; CGrannyMotion::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCGrannyMotion@@@8			; CGrannyMotion `RTTI Type Descriptor'
PUBLIC	??_R3CGrannyMotion@@8				; CGrannyMotion::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CGrannyMotion@@8				; CGrannyMotion::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CGrannyMotion@@8			; CGrannyMotion::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	__stricmp:PROC
EXTRN	??_ECGrannyMotion@@UAEPAXI@Z:PROC		; CGrannyMotion::`vector deleting destructor'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	__fltused:DWORD
;	COMDAT ??_R1A@?0A@EA@CGrannyMotion@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CGrannyMotion@@8 DD FLAT:??_R0?AVCGrannyMotion@@@8 ; CGrannyMotion::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CGrannyMotion@@8
rdata$r	ENDS
;	COMDAT ??_R2CGrannyMotion@@8
rdata$r	SEGMENT
??_R2CGrannyMotion@@8 DD FLAT:??_R1A@?0A@EA@CGrannyMotion@@8 ; CGrannyMotion::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CGrannyMotion@@8
rdata$r	SEGMENT
??_R3CGrannyMotion@@8 DD 00H				; CGrannyMotion::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CGrannyMotion@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCGrannyMotion@@@8
data$r	SEGMENT
??_R0?AVCGrannyMotion@@@8 DD FLAT:??_7type_info@@6B@	; CGrannyMotion `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCGrannyMotion@@', 00H
data$r	ENDS
;	COMDAT ??_R4CGrannyMotion@@6B@
rdata$r	SEGMENT
??_R4CGrannyMotion@@6B@ DD 00H				; CGrannyMotion::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCGrannyMotion@@@8
	DD	FLAT:??_R3CGrannyMotion@@8
rdata$r	ENDS
;	COMDAT ??_7CGrannyMotion@@6B@
CONST	SEGMENT
??_7CGrannyMotion@@6B@ DD FLAT:??_R4CGrannyMotion@@6B@	; CGrannyMotion::`vftable'
	DD	FLAT:??_ECGrannyMotion@@UAEPAXI@Z
CONST	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_GCGrannyMotion@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCGrannyMotion@@UAEPAXI@Z PROC			; CGrannyMotion::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CGrannyMotion@@UAE@XZ ; CGrannyMotion::~CGrannyMotion
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 0b		 je	 SHORT $LN4@scalar
  00011	6a 08		 push	 8
  00013	56		 push	 esi
  00014	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00019	83 c4 08	 add	 esp, 8
$LN4@scalar:
  0001c	8b c6		 mov	 eax, esi
  0001e	5e		 pop	 esi
  0001f	5d		 pop	 ebp
  00020	c2 04 00	 ret	 4
??_GCGrannyMotion@@UAEPAXI@Z ENDP			; CGrannyMotion::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ?Initialize@CGrannyMotion@@IAEXXZ
_TEXT	SEGMENT
?Initialize@CGrannyMotion@@IAEXXZ PROC			; CGrannyMotion::Initialize, COMDAT
; _this$ = ecx

; 26   : 	m_pgrnAni = NULL;

  00000	c7 41 04 00 00
	00 00		 mov	 DWORD PTR [ecx+4], 0

; 27   : }

  00007	c3		 ret	 0
?Initialize@CGrannyMotion@@IAEXXZ ENDP			; CGrannyMotion::Initialize
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ?GetTextTrack@CGrannyMotion@@QBEXPBDPAHPAM@Z
_TEXT	SEGMENT
_pTrack$1$ = -12					; size = 4
tv228 = -8						; size = 4
_i$1$ = -4						; size = 4
_c_szTextTrackName$ = 8					; size = 4
_pCount$ = 12						; size = 4
_pArray$ = 16						; size = 4
?GetTextTrack@CGrannyMotion@@QBEXPBDPAHPAM@Z PROC	; CGrannyMotion::GetTextTrack, COMDAT
; _this$ = ecx

; 53   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 54   : 	if (m_pgrnAni->TrackGroupCount != 1)
; 55   : 	{
; 56   : //		assert(!"CGrannyMotion::GetTextTrack - TrackCount is not 1");
; 57   : 	}
; 58   : 
; 59   : 	granny_track_group * pTrack = m_pgrnAni->TrackGroups[0];

  00006	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00009	8b 40 14	 mov	 eax, DWORD PTR [eax+20]
  0000c	8b 10		 mov	 edx, DWORD PTR [eax]

; 60   : 
; 61   : 	for (int i = 0; i < pTrack->TextTrackCount; ++i)

  0000e	33 c0		 xor	 eax, eax
  00010	89 55 f4	 mov	 DWORD PTR _pTrack$1$[ebp], edx
  00013	89 45 fc	 mov	 DWORD PTR _i$1$[ebp], eax
  00016	39 42 1c	 cmp	 DWORD PTR [edx+28], eax
  00019	7e 5e		 jle	 SHORT $LN3@GetTextTra

; 54   : 	if (m_pgrnAni->TrackGroupCount != 1)
; 55   : 	{
; 56   : //		assert(!"CGrannyMotion::GetTextTrack - TrackCount is not 1");
; 57   : 	}
; 58   : 
; 59   : 	granny_track_group * pTrack = m_pgrnAni->TrackGroups[0];

  0001b	53		 push	 ebx
  0001c	8b 5d 0c	 mov	 ebx, DWORD PTR _pCount$[ebp]
  0001f	33 c9		 xor	 ecx, ecx
  00021	56		 push	 esi
  00022	57		 push	 edi
  00023	89 4d f8	 mov	 DWORD PTR tv228[ebp], ecx
$LL4@GetTextTra:

; 62   : 	{
; 63   : 		granny_text_track & rTextTrack = pTrack->TextTracks[i];

  00026	8b 7a 20	 mov	 edi, DWORD PTR [edx+32]

; 64   : 
; 65   : 		for (int j = 0; j < rTextTrack.EntryCount; ++j)

  00029	33 f6		 xor	 esi, esi
  0002b	03 f9		 add	 edi, ecx
  0002d	39 77 04	 cmp	 DWORD PTR [edi+4], esi
  00030	7e 35		 jle	 SHORT $LN2@GetTextTra
$LL7@GetTextTra:

; 66   : 			if (!_stricmp(c_szTextTrackName, rTextTrack.Entries[j].Text))

  00032	8b 47 08	 mov	 eax, DWORD PTR [edi+8]
  00035	ff 74 f0 04	 push	 DWORD PTR [eax+esi*8+4]
  00039	ff 75 08	 push	 DWORD PTR _c_szTextTrackName$[ebp]
  0003c	e8 00 00 00 00	 call	 __stricmp
  00041	83 c4 08	 add	 esp, 8
  00044	85 c0		 test	 eax, eax
  00046	75 10		 jne	 SHORT $LN5@GetTextTra

; 67   : 				pArray[(*pCount)++] = rTextTrack.Entries[j].TimeStamp;

  00048	8b 47 08	 mov	 eax, DWORD PTR [edi+8]
  0004b	8b 0b		 mov	 ecx, DWORD PTR [ebx]
  0004d	8b 55 10	 mov	 edx, DWORD PTR _pArray$[ebp]
  00050	8b 04 f0	 mov	 eax, DWORD PTR [eax+esi*8]
  00053	89 04 8a	 mov	 DWORD PTR [edx+ecx*4], eax
  00056	ff 03		 inc	 DWORD PTR [ebx]
$LN5@GetTextTra:

; 64   : 
; 65   : 		for (int j = 0; j < rTextTrack.EntryCount; ++j)

  00058	46		 inc	 esi
  00059	3b 77 04	 cmp	 esi, DWORD PTR [edi+4]
  0005c	7c d4		 jl	 SHORT $LL7@GetTextTra
  0005e	8b 45 fc	 mov	 eax, DWORD PTR _i$1$[ebp]
  00061	8b 4d f8	 mov	 ecx, DWORD PTR tv228[ebp]
  00064	8b 55 f4	 mov	 edx, DWORD PTR _pTrack$1$[ebp]
$LN2@GetTextTra:

; 60   : 
; 61   : 	for (int i = 0; i < pTrack->TextTrackCount; ++i)

  00067	40		 inc	 eax
  00068	83 c1 0c	 add	 ecx, 12			; 0000000cH
  0006b	89 45 fc	 mov	 DWORD PTR _i$1$[ebp], eax
  0006e	89 4d f8	 mov	 DWORD PTR tv228[ebp], ecx
  00071	3b 42 1c	 cmp	 eax, DWORD PTR [edx+28]
  00074	7c b0		 jl	 SHORT $LL4@GetTextTra
  00076	5f		 pop	 edi
  00077	5e		 pop	 esi
  00078	5b		 pop	 ebx
$LN3@GetTextTra:

; 68   : 	}
; 69   : }

  00079	8b e5		 mov	 esp, ebp
  0007b	5d		 pop	 ebp
  0007c	c2 0c 00	 ret	 12			; 0000000cH
?GetTextTrack@CGrannyMotion@@QBEXPBDPAHPAM@Z ENDP	; CGrannyMotion::GetTextTrack
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ?GetDuration@CGrannyMotion@@QBEMXZ
_TEXT	SEGMENT
?GetDuration@CGrannyMotion@@QBEMXZ PROC			; CGrannyMotion::GetDuration, COMDAT
; _this$ = ecx

; 49   : 	return m_pgrnAni->Duration;

  00000	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00003	d9 40 04	 fld	 DWORD PTR [eax+4]

; 50   : }

  00006	c3		 ret	 0
?GetDuration@CGrannyMotion@@QBEMXZ ENDP			; CGrannyMotion::GetDuration
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ?GetName@CGrannyMotion@@QBEPBDXZ
_TEXT	SEGMENT
?GetName@CGrannyMotion@@QBEPBDXZ PROC			; CGrannyMotion::GetName, COMDAT
; _this$ = ecx

; 44   : 	return m_pgrnAni->Name;

  00000	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00003	8b 00		 mov	 eax, DWORD PTR [eax]

; 45   : }

  00005	c3		 ret	 0
?GetName@CGrannyMotion@@QBEPBDXZ ENDP			; CGrannyMotion::GetName
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ?GetGrannyAnimationPointer@CGrannyMotion@@QBEPAUgranny_animation@@XZ
_TEXT	SEGMENT
?GetGrannyAnimationPointer@CGrannyMotion@@QBEPAUgranny_animation@@XZ PROC ; CGrannyMotion::GetGrannyAnimationPointer, COMDAT
; _this$ = ecx

; 39   : 	return m_pgrnAni;

  00000	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]

; 40   : }

  00003	c3		 ret	 0
?GetGrannyAnimationPointer@CGrannyMotion@@QBEPAUgranny_animation@@XZ ENDP ; CGrannyMotion::GetGrannyAnimationPointer
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ?BindGrannyAnimation@CGrannyMotion@@QAE_NPAUgranny_animation@@@Z
_TEXT	SEGMENT
_pgrnAni$ = 8						; size = 4
?BindGrannyAnimation@CGrannyMotion@@QAE_NPAUgranny_animation@@@Z PROC ; CGrannyMotion::BindGrannyAnimation, COMDAT
; _this$ = ecx

; 30   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 31   : 	assert(IsEmpty());
; 32   : 
; 33   : 	m_pgrnAni = pgrnAni;

  00003	8b 45 08	 mov	 eax, DWORD PTR _pgrnAni$[ebp]
  00006	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 34   : 	return true;

  00009	b0 01		 mov	 al, 1

; 35   : }

  0000b	5d		 pop	 ebp
  0000c	c2 04 00	 ret	 4
?BindGrannyAnimation@CGrannyMotion@@QAE_NPAUgranny_animation@@@Z ENDP ; CGrannyMotion::BindGrannyAnimation
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ?Destroy@CGrannyMotion@@QAEXXZ
_TEXT	SEGMENT
?Destroy@CGrannyMotion@@QAEXXZ PROC			; CGrannyMotion::Destroy, COMDAT
; _this$ = ecx

; 21   : 	Initialize();

  00000	e9 00 00 00 00	 jmp	 ?Initialize@CGrannyMotion@@IAEXXZ ; CGrannyMotion::Initialize
?Destroy@CGrannyMotion@@QAEXXZ ENDP			; CGrannyMotion::Destroy
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ?IsEmpty@CGrannyMotion@@QAE_NXZ
_TEXT	SEGMENT
?IsEmpty@CGrannyMotion@@QAE_NXZ PROC			; CGrannyMotion::IsEmpty, COMDAT
; _this$ = ecx

; 16   : 	return m_pgrnAni ? false : true;

  00000	83 79 04 00	 cmp	 DWORD PTR [ecx+4], 0
  00004	0f 94 c0	 sete	 al

; 17   : }

  00007	c3		 ret	 0
?IsEmpty@CGrannyMotion@@QAE_NXZ ENDP			; CGrannyMotion::IsEmpty
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ??1CGrannyMotion@@UAE@XZ
_TEXT	SEGMENT
??1CGrannyMotion@@UAE@XZ PROC				; CGrannyMotion::~CGrannyMotion, COMDAT
; _this$ = ecx

; 10   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CGrannyMotion@@6B@

; 11   : 	Destroy();

  00006	e9 00 00 00 00	 jmp	 ?Destroy@CGrannyMotion@@QAEXXZ ; CGrannyMotion::Destroy
??1CGrannyMotion@@UAE@XZ ENDP				; CGrannyMotion::~CGrannyMotion
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\eterGrnLib\Motion.cpp
;	COMDAT ??0CGrannyMotion@@QAE@XZ
_TEXT	SEGMENT
??0CGrannyMotion@@QAE@XZ PROC				; CGrannyMotion::CGrannyMotion, COMDAT
; _this$ = ecx

; 5    : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx
  00003	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CGrannyMotion@@6B@

; 6    : 	Initialize();

  00009	e8 00 00 00 00	 call	 ?Initialize@CGrannyMotion@@IAEXXZ ; CGrannyMotion::Initialize

; 7    : }

  0000e	8b c6		 mov	 eax, esi
  00010	5e		 pop	 esi
  00011	c3		 ret	 0
??0CGrannyMotion@@QAE@XZ ENDP				; CGrannyMotion::CGrannyMotion
_TEXT	ENDS
END
