; Listing generated by Microsoft (R) Optimizing Compiler Version 19.27.29112.0 

	TITLE	C:\DS Project\DS Files\Source\ClientSource\Client\EterLib\Thread.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??0CThread@@QAE@XZ				; CThread::CThread
PUBLIC	?Create@CThread@@QAEHPAX@Z			; CThread::Create
PUBLIC	?EntryPoint@CThread@@KGIPAX@Z			; CThread::EntryPoint
PUBLIC	?Run@CThread@@IAEIPAX@Z				; CThread::Run
PUBLIC	??_7CThread@@6B@				; CThread::`vftable'
PUBLIC	??_R4CThread@@6B@				; CThread::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCThread@@@8				; CThread `RTTI Type Descriptor'
PUBLIC	??_R3CThread@@8					; CThread::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CThread@@8					; CThread::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CThread@@8			; CThread::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	__purecall:PROC
EXTRN	__imp__SetThreadPriority@8:PROC
EXTRN	__beginthreadex:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
;	COMDAT ??_R1A@?0A@EA@CThread@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CThread@@8 DD FLAT:??_R0?AVCThread@@@8	; CThread::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CThread@@8
rdata$r	ENDS
;	COMDAT ??_R2CThread@@8
rdata$r	SEGMENT
??_R2CThread@@8 DD FLAT:??_R1A@?0A@EA@CThread@@8	; CThread::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CThread@@8
rdata$r	SEGMENT
??_R3CThread@@8 DD 00H					; CThread::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CThread@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCThread@@@8
data$r	SEGMENT
??_R0?AVCThread@@@8 DD FLAT:??_7type_info@@6B@		; CThread `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCThread@@', 00H
data$r	ENDS
;	COMDAT ??_R4CThread@@6B@
rdata$r	SEGMENT
??_R4CThread@@6B@ DD 00H				; CThread::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCThread@@@8
	DD	FLAT:??_R3CThread@@8
rdata$r	ENDS
;	COMDAT ??_7CThread@@6B@
CONST	SEGMENT
??_7CThread@@6B@ DD FLAT:??_R4CThread@@6B@		; CThread::`vftable'
	DD	FLAT:__purecall
	DD	FLAT:__purecall
CONST	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\EterLib\Thread.cpp
;	COMDAT ?Run@CThread@@IAEIPAX@Z
_TEXT	SEGMENT
_arg$ = 8						; size = 4
?Run@CThread@@IAEIPAX@Z PROC				; CThread::Run, COMDAT
; _this$ = ecx

; 21   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx

; 22   : 	if (!Setup())

  00006	8b 06		 mov	 eax, DWORD PTR [esi]
  00008	ff 10		 call	 DWORD PTR [eax]
  0000a	85 c0		 test	 eax, eax
  0000c	75 05		 jne	 SHORT $LN2@Run
  0000e	5e		 pop	 esi

; 26   : }

  0000f	5d		 pop	 ebp
  00010	c2 04 00	 ret	 4
$LN2@Run:

; 23   : 		return 0;
; 24   : 
; 25   : 	return (Execute(arg));

  00013	8b 06		 mov	 eax, DWORD PTR [esi]
  00015	8b ce		 mov	 ecx, esi
  00017	ff 75 08	 push	 DWORD PTR _arg$[ebp]
  0001a	ff 50 04	 call	 DWORD PTR [eax+4]
  0001d	5e		 pop	 esi

; 26   : }

  0001e	5d		 pop	 ebp
  0001f	c2 04 00	 ret	 4
?Run@CThread@@IAEIPAX@Z ENDP				; CThread::Run
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\EterLib\Thread.cpp
;	COMDAT ?EntryPoint@CThread@@KGIPAX@Z
_TEXT	SEGMENT
_pThis$ = 8						; size = 4
?EntryPoint@CThread@@KGIPAX@Z PROC			; CThread::EntryPoint, COMDAT

; 30   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 31   : 	CThread * pThread = (CThread *) pThis;
; 32   : 	return pThread->Run(pThread->Arg());

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _pThis$[ebp]
  00006	ff 71 08	 push	 DWORD PTR [ecx+8]
  00009	e8 00 00 00 00	 call	 ?Run@CThread@@IAEIPAX@Z	; CThread::Run

; 33   : }

  0000e	5d		 pop	 ebp
  0000f	c2 04 00	 ret	 4
?EntryPoint@CThread@@KGIPAX@Z ENDP			; CThread::EntryPoint
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\EterLib\Thread.cpp
;	COMDAT ?Create@CThread@@QAEHPAX@Z
_TEXT	SEGMENT
_arg$ = 8						; size = 4
?Create@CThread@@QAEHPAX@Z PROC				; CThread::Create, COMDAT
; _this$ = ecx

; 9    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 10   : 	Arg(arg);

  00003	8b 45 08	 mov	 eax, DWORD PTR _arg$[ebp]
  00006	56		 push	 esi
  00007	8b f1		 mov	 esi, ecx
  00009	89 46 08	 mov	 DWORD PTR [esi+8], eax

; 11   : 	m_hThread = (HANDLE) _beginthreadex(NULL, 0, EntryPoint, this, 0, &m_uThreadID);

  0000c	8d 46 0c	 lea	 eax, DWORD PTR [esi+12]
  0000f	50		 push	 eax
  00010	6a 00		 push	 0
  00012	56		 push	 esi
  00013	68 00 00 00 00	 push	 OFFSET ?EntryPoint@CThread@@KGIPAX@Z ; CThread::EntryPoint
  00018	6a 00		 push	 0
  0001a	6a 00		 push	 0
  0001c	e8 00 00 00 00	 call	 __beginthreadex
  00021	83 c4 18	 add	 esp, 24			; 00000018H
  00024	89 46 04	 mov	 DWORD PTR [esi+4], eax
  00027	5e		 pop	 esi

; 12   : 
; 13   : 	if (!m_hThread)

  00028	85 c0		 test	 eax, eax
  0002a	75 04		 jne	 SHORT $LN2@Create

; 18   : }

  0002c	5d		 pop	 ebp
  0002d	c2 04 00	 ret	 4
$LN2@Create:

; 14   : 		return false;
; 15   : 
; 16   : 	SetThreadPriority(m_hThread, THREAD_PRIORITY_NORMAL);

  00030	6a 00		 push	 0
  00032	50		 push	 eax
  00033	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetThreadPriority@8

; 17   : 	return true;

  00039	b8 01 00 00 00	 mov	 eax, 1

; 18   : }

  0003e	5d		 pop	 ebp
  0003f	c2 04 00	 ret	 4
?Create@CThread@@QAEHPAX@Z ENDP				; CThread::Create
_TEXT	ENDS
; Function compile flags: /Ogtp
; File C:\DS Project\DS Files\Source\ClientSource\Client\EterLib\Thread.cpp
;	COMDAT ??0CThread@@QAE@XZ
_TEXT	SEGMENT
??0CThread@@QAE@XZ PROC					; CThread::CThread, COMDAT
; _this$ = ecx

; 5    : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CThread@@6B@

; 6    : }

  00006	8b c1		 mov	 eax, ecx
  00008	c7 41 04 00 00
	00 00		 mov	 DWORD PTR [ecx+4], 0
  0000f	c7 41 08 00 00
	00 00		 mov	 DWORD PTR [ecx+8], 0
  00016	c7 41 0c 00 00
	00 00		 mov	 DWORD PTR [ecx+12], 0
  0001d	c3		 ret	 0
??0CThread@@QAE@XZ ENDP					; CThread::CThread
_TEXT	ENDS
END
